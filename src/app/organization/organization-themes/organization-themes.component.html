<div class="container-fluid container-cards-pf">
  <div class="row row-cards-pf">
    <div class="col-md-12">
      <form [formGroup]="form" (ngSubmit)="save(form.value)" class="form-horizontal">
        <div class="form-group" [ngClass]="{ 'has-error' : !form.get('emailTheme').valid && form.get('emailTheme').dirty }">
          <label class="col-md-2 control-label">Email Theme
						<i class="fa fa-question-circle text-muted" ngbTooltip="Email theme for the current organization." placement="right"></i>
          </label>
          <div class="col-md-3">
            <select formControlName="emailTheme" class="form-control">
              <option value="" disabled>Select One...</option>
              <option *ngFor="let emailTheme of serverinfo.themes.email" [value]="emailTheme.name">{{emailTheme.name}}</option>
            </select>
            <div *ngIf="!form.get('emailTheme').valid && form.get('emailTheme').dirty">
              <span *ngIf="form.get('emailTheme').hasError('required')" class="help-block">This field is required</span>              
            </div>
          </div>
        </div>
        <div class="form-group" [ngClass]="{ 'has-error' : !form.get('reportTheme').valid && form.get('reportTheme').dirty }">
          <label class="col-md-2 control-label">Report Theme
						<i class="fa fa-question-circle text-muted" ngbTooltip="Report theme for the current organization." placement="right"></i>
          </label>
          <div class="col-md-3">
            <select formControlName="reportTheme" class="form-control">
              <option value="" disabled>Select One...</option>
              <option *ngFor="let reportTheme of serverinfo.reports.admin" [value]="reportTheme.name">{{reportTheme.name}}</option>
            </select>
            <div *ngIf="!form.get('reportTheme').valid && form.get('reportTheme').dirty">
              <span *ngIf="form.get('reportTheme').hasError('required')" class="help-block">This field is required</span>              
            </div>
          </div>
        </div>
        <div class="form-group" [ngClass]="{ 'has-error' : !form.get('internationalizationEnabled').valid && form.get('internationalizationEnabled').dirty }">
          <label class="col-md-2 control-label">Internationalization Enabled
						<i class="fa fa-question-circle text-muted" ngbTooltip="Set true to enable internationalization on current organization." placement="right"></i>
          </label>
          <div class="col-md-4">
            <of-button-switch formControlName="internationalizationEnabled"></of-button-switch>
            <div *ngIf="!form.get('internationalizationEnabled').valid && form.get('internationalizationEnabled').dirty">
              <span *ngIf="form.get('internationalizationEnabled').errors.required" class="help-block">This field is required</span>
            </div>
          </div>
        </div>    
        <div [hidden]="!form.get('internationalizationEnabled').value" class="form-group" [ngClass]="{ 'has-error' : !form.get('supportedLocales').valid && form.get('supportedLocales').dirty }">
          <label class="col-md-2 control-label">Supported Locales
						<i class="fa fa-question-circle text-muted" ngbTooltip="Supported locales for the current organization." placement="right"></i>
          </label>
          <div class="col-md-4">
            <ng-select (data)="refreshSupportedLocalesSelectValue($event)" [active]="supportedLocales" [multiple]="true" [items]="supportedLocales"></ng-select>
            <div *ngIf="!form.get('supportedLocales').valid && form.get('supportedLocales').dirty">
              <span *ngIf="form.get('supportedLocales').errors.required" class="help-block">This field is required</span>
            </div>
          </div>
        </div>   
        <div [hidden]="!form.get('internationalizationEnabled').value" class="form-group" [ngClass]="{ 'has-error' : !form.get('defaultLocale').valid && form.get('defaultLocale').dirty }">
          <label class="col-md-2 control-label">Default Locale
						<i class="fa fa-question-circle text-muted" ngbTooltip="Default locale for the current organization. This is important for reports which are generated from the backend." placement="right"></i>
          </label>
          <div class="col-md-3">
            <select formControlName="defaultLocale" class="form-control">
              <option value="" disabled>Select One...</option>
              <option *ngFor="let locale of supportedLocales" [value]="locale">{{locale}}</option>
            </select>
            <div *ngIf="!form.get('defaultLocale').valid && form.get('defaultLocale').dirty">
              <span *ngIf="form.get('defaultLocale').hasError('required')" class="help-block">This field is required</span>              
            </div>
          </div>
        </div>    
        <div class="form-group">
          <div class="col-xs-12 col-sm-12 col-md-10 col-lg-10 col-md-offset-2 col-lg-offset-2">
            <of-button-save [form]="form" [working]="working"></of-button-save>
            <button type="button" (click)="loadData()" class="btn btn-default" [disabled]="!form.dirty">{{'cancel' | translate}}</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
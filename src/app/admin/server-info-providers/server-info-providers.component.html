<app-default-header></app-default-header>

<br>
<br>
<div class="container-fluid container-cards-pf">
	<div class="row">
		<div class="col-md-6 col-md-offset-3">
			<h2>
				Providers
				<a href="javascript:void(0);" (click)="loadData()"><i class="pficon pficon-restart"></i></a>
			</h2>
			<table class="table table-striped table-bordered">
				<thead>
					<tr>
						<th colspan="5">
							<div class="form-inline">
								<div class="form-group">
									<div class="input-group">
										<input type="text" placeholder="Search..." [(ngModel)]="filterText" class="form-control">
									</div>
								</div>
							</div>
						</th>
					</tr>
					<tr>
						<th width="20%">SPI</th>
						<th>Internal</th>
						<th>Providers</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let spi of spis.keys() | filterCollection: filterText">
						<td width="20%">{{spi}}</td>
						<td width="20%">{{spis.getValue(spi).internal}}</td>
						<td>
							<ul class="list-unstyled" style="margin-bottom: 0px;">
								<li *ngFor="let provider of spis.getValue(spi).providers | keys">
									<span>{{provider}}</span>
									<table *ngIf="(spis.getValue(spi).providers[provider].operationalInfo | keys).lenght > 0" class="table table-striped table-bordered"
										style="margin-top: 0px;">
										<tbody>
											<tr *ngFor="let operationalInfo of spis.getValue(spi).providers[provider].operationalInfo | keys">
												<td width="20%">{{operationalInfo}}</td>
												<td>{{spis.getValue(spi).providers[provider].operationalInfo[operationalInfo]}}</td>
											</tr>
										</tbody>
									</table>
								</li>
							</ul>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>